import{p as v,v as U,q as J,c as V,o as C,j as s,ae as I,af as L,t as Q,ah as E,ad as H,ag as F,G as K}from"./chunks/framework.BZdfrRur.js";import{s as M}from"./chunks/visual.DiLKMx0U.js";const W={class:"hsAV-visu"},X={class:"hsAV-visu_option"},Y={class:"hsAV-visu_option_array_control"},Z={class:"hsAV-visu_option_array_control-length"},q=["disabled"],S={class:"hsAV-visu_option_array_control-interval"},ee=["disabled"],te={class:"hsAV-visu_option_array_control-button"},ae=["disabled"],le=["disabled"],se={key:0,class:"text"},ne={key:1,class:"text"},re={class:"hsAV-visu_option_array_value"},oe={__name:"bucket_sort",setup(R){const _=v(),l=v(),m=v(1e3),h=v(new Array),f=v(!1),g=v(!1);let r=new Array,p=new Array,o=new Array,d=0,B=0,b=0;U(()=>{window.addEventListener("resize",()=>{$()})}),J(l,()=>{l.value>500?l.value=500:l.value<0||typeof l.value!="number"?l.value=0:l.value&&typeof l.value=="number"&&j(l.value)});const T=()=>{N(),c()},G=async()=>{if(f.value=!0,g.value=!0,r.length>=2){o=new Array(r.length);for(let e=0;e<r.length;e++)o[e]={index:e,value:p[e]};console.log(o.concat()),o=await D(o.concat(),0,o.length),P(),k(),c()}c(),f.value=!1,g.value=!1},j=e=>{l.value=e,$(),N(),c()},$=()=>{d=_.value.getBoundingClientRect().width/l.value,B=_.value.getBoundingClientRect().height},N=()=>{b=0,h.value=new Array(l.value),p=new Array(l.value),r=new Array(l.value);for(let e=0;e<h.value.length;e++)h.value[e]=Math.round(Math.random()*1e3),h.value[e]>b&&(b=h.value[e]),p[e]=h.value[e],r[e]=e},P=()=>{for(let e=0;e<o.length;e++)r[o[e].index]=e},k=()=>{for(let e=0;e<r.length;e++)h.value[r[e]]=p[e]},c=(e=[{index:-1,color:"red"}])=>{E(H("div",{class:"hsAV-visu_visual-box"},Array.from(p).map((t,n)=>{for(let i=0;i<e.length;i++)if(e[i].index===r[n])return H("div",{class:"bar",style:{left:`${d*r[n]+1}px`,width:`${d-2>0?d-2:d}px`,height:`${(B-2)*(t/b)}px`,backgroundColor:e[i].color?e[i].color:"null"}});return H("div",{class:"bar",style:{left:`${d*r[n]+1}px`,width:`${d-2>0?d-2:d}px`,height:`${(B-2)*(t/b)}px`}})})),_.value)};async function D(e,t,n){let i=n-t,y=new Array(i>=0?i:0);if(i<=1)return e;{P(),k(),c(Array.from(o).map((a,x)=>{for(let u=0;u<e.length;u++){if(a.index===e[0].index)return{index:x,color:"#98fb98"};if(a.index===e[u].index)return{index:x,color:"#ffff20"}}}).filter(a=>a)),await M(m.value);let A=new Array(0),w=new Array(0);for(let a=1;a<i;a++)e[a].value>e[0].value?w.push(e[a]):A.push(e[a]);y=A.concat(e[0]).concat(w);for(let a=t;a<n;a++)o[a]=y[a-t];P(),k(),c(Array.from(o).map((a,x)=>{for(let u=0;u<y.length;u++){if(a.index===e[0].index)return{index:x,color:"#98fb98"};if(a.index===y[u].index)return{index:x,color:"#ffff20"}}}).filter(a=>a)),await M(m.value+600);let z=await D(A,t,t+A.length),O=await D(w,n-w.length,n);return z.concat(e[0]).concat(O)}}return(e,t)=>(C(),V("div",W,[s("div",{class:"hsAV-visu_visual",ref_key:"visualDiv",ref:_},null,512),s("div",X,[s("div",Y,[s("div",Z,[t[2]||(t[2]=s("span",{class:"text"},"数组长度",-1)),I(s("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=n=>l.value=n),disabled:f.value,min:"0",max:"500",placeholder:"0 - 500"},null,8,q),[[L,l.value]])]),s("div",S,[t[3]||(t[3]=s("span",{class:"text"},"动画间隔",-1)),I(s("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=n=>m.value=n),disabled:f.value,min:"0",max:"1000",placeholder:"1000"},null,8,ee),[[L,m.value]])]),s("div",te,[s("button",{class:"reassign",disabled:f.value,onClick:T},t[4]||(t[4]=[s("div",{class:"text"},"重新赋值",-1)]),8,ae),s("button",{class:"start",disabled:g.value,onClick:G},[g.value?(C(),V("div",se,"运行中")):(C(),V("div",ne,"开始"))],8,le)])]),s("div",re,[t[5]||(t[5]=s("div",{class:"text"},"数组：",-1)),s("div",null,Q(h.value),1)])])]))}},ue=JSON.parse('{"title":"桶排序 Bucket Sort","description":"","frontmatter":{},"headers":[],"relativePath":"algorithm/sort/bucket_sort.md","filePath":"algorithm/sort/bucket_sort.md"}'),ie={name:"algorithm/sort/bucket_sort.md"},ce=Object.assign(ie,{setup(R){return(_,l)=>(C(),V("div",null,[l[0]||(l[0]=F("",11)),K(oe)]))}});export{ue as __pageData,ce as default};
