import{p as c,v as J,q as Q,c as V,o as C,j as s,ae as L,af as M,t as k,ah as E,ad as $,ag as F,G as K}from"./chunks/framework.BZdfrRur.js";import{s as R}from"./chunks/visual.DiLKMx0U.js";const W={class:"hsAV-visu"},X={class:"hsAV-visu_option"},Y={class:"hsAV-visu_option_array_control"},Z={class:"hsAV-visu_option_array_control-length"},q=["disabled"],S={class:"hsAV-visu_option_array_control-interval"},ee=["disabled"],te={class:"hsAV-visu_option_array_control-button"},ae=["disabled"],le=["disabled"],se={key:0,class:"text"},ne={key:1,class:"text"},re={class:"hsAV-visu_option_array_value"},oe={__name:"heap_sort",setup(T){const _=c(),l=c(),m=c(1e3),d=c(new Array),p=c(!1),g=c(!1);let r=new Array,f=new Array,o=new Array,h=0,H=0,b=0;J(()=>{window.addEventListener("resize",()=>{N()})}),Q(l,()=>{l.value>500?l.value=500:l.value<0||typeof l.value!="number"?l.value=0:l.value&&typeof l.value=="number"&&z(l.value)});const G=()=>{I(),v()},j=async()=>{if(p.value=!0,g.value=!0,r.length>=2){o=new Array(r.length);for(let e=0;e<r.length;e++)o[e]={index:e,value:f[e]};console.log(o.concat()),o=await D(o.concat(),0,o.length),P(),B(),v()}v(),p.value=!1,g.value=!1},z=e=>{l.value=e,N(),I(),v()},N=()=>{h=_.value.getBoundingClientRect().width/l.value,H=_.value.getBoundingClientRect().height},I=()=>{b=0,d.value=new Array(l.value),f=new Array(l.value),r=new Array(l.value);for(let e=0;e<d.value.length;e++)d.value[e]=Math.round(Math.random()*1e3),d.value[e]>b&&(b=d.value[e]),f[e]=d.value[e],r[e]=e},P=()=>{for(let e=0;e<o.length;e++)r[o[e].index]=e},B=()=>{for(let e=0;e<r.length;e++)d.value[r[e]]=f[e]},v=(e=[{index:-1,color:"red"}])=>{E($("div",{class:"hsAV-visu_visual-box"},Array.from(f).map((t,n)=>{for(let i=0;i<e.length;i++)if(e[i].index===r[n])return $("div",{class:"bar",style:{left:`${h*r[n]+1}px`,width:`${h-2>0?h-2:h}px`,height:`${(H-2)*(t/b)}px`,backgroundColor:e[i].color?e[i].color:"null"}});return $("div",{class:"bar",style:{left:`${h*r[n]+1}px`,width:`${h-2>0?h-2:h}px`,height:`${(H-2)*(t/b)}px`}})})),_.value)};async function D(e,t,n){let i=n-t,y=new Array(i>=0?i:0);if(i<=1)return e;{P(),B(),v(Array.from(o).map((a,x)=>{for(let u=0;u<e.length;u++){if(a.index===e[0].index)return{index:x,color:"#98fb98"};if(a.index===e[u].index)return{index:x,color:"#ffff20"}}}).filter(a=>a)),await R(m.value);let A=new Array(0),w=new Array(0);for(let a=1;a<i;a++)e[a].value>e[0].value?w.push(e[a]):A.push(e[a]);y=A.concat(e[0]).concat(w);for(let a=t;a<n;a++)o[a]=y[a-t];P(),B(),v(Array.from(o).map((a,x)=>{for(let u=0;u<y.length;u++){if(a.index===e[0].index)return{index:x,color:"#98fb98"};if(a.index===y[u].index)return{index:x,color:"#ffff20"}}}).filter(a=>a)),await R(m.value+600);let O=await D(A,t,t+A.length),U=await D(w,n-w.length,n);return O.concat(e[0]).concat(U)}}return(e,t)=>(C(),V("div",W,[s("div",{class:"hsAV-visu_visual",ref_key:"visualDiv",ref:_},null,512),s("div",X,[s("div",Y,[s("div",Z,[t[2]||(t[2]=s("span",{class:"text"},"数组长度",-1)),L(s("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=n=>l.value=n),disabled:p.value,min:"0",max:"500",placeholder:"0 - 500"},null,8,q),[[M,l.value]])]),s("div",S,[t[3]||(t[3]=s("span",{class:"text"},"动画间隔",-1)),L(s("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=n=>m.value=n),disabled:p.value,min:"0",max:"1000",placeholder:"1000"},null,8,ee),[[M,m.value]])]),s("div",te,[s("button",{class:"reassign",disabled:p.value,onClick:G},t[4]||(t[4]=[s("div",{class:"text"},"重新赋值",-1)]),8,ae),s("button",{class:"start",disabled:g.value,onClick:j},[g.value?(C(),V("div",se,"运行中")):(C(),V("div",ne,"开始"))],8,le)])]),s("div",re,[t[5]||(t[5]=s("div",{class:"text"},"数组：",-1)),s("div",null,k(d.value),1)])])]))}},ue=JSON.parse('{"title":"堆排序 Heap Sort","description":"","frontmatter":{},"headers":[],"relativePath":"algorithm/sort/heap_sort.md","filePath":"algorithm/sort/heap_sort.md"}'),ie={name:"algorithm/sort/heap_sort.md"},ve=Object.assign(ie,{setup(T){return(_,l)=>(C(),V("div",null,[l[0]||(l[0]=F("",11)),K(oe)]))}});export{ue as __pageData,ve as default};
